{% extends "base.html" %}
{% block page_title %}
    <h2>Blog Posts</h2>
{% endblock %}
{% block content %}
    <div class="container" style="display: flex; justify-content: center; align-items: center; height: 100vh; flex-wrap: wrap;">

        {% block posts %}
            {% for post in posts %}

                <div class="card" style=" margin: 10px; background-color: #fff; border-radius: 10px; box-shadow: 0 2px 20px rgba(0, 0, 0, 0.2); overflow: hidden; width: 300px;">
                    {% if user.is_authenticated or post.visible %}

                    <div class="card-body">
                        {% for tag in post.tags.all %}
                            <a href="{% url 'blog_tag' tag %}">
                                <span class="tag" style="  background: #47bcd4;
  border-radius: 50px;
  font-size: 12px;
  margin: 0;
  color: #fff;
  padding: 2px 10px;
  text-transform: uppercase;
  cursor: pointer;">{{ tag.name }}</span>
                            </a>
                        {% endfor %}
                        <h4><a href="{% url 'blog_post' post.pk %}">{{ post.title }}</a></h4>
                        <p>{{ post.short_description|safe }}</p>
                        <img src="{{ post.featured_image }}" style="width: 100%; height: 200px; object-fit: cover; object-position: center;" alt="{{ post.title }}">
                        <div class="user">
                            <img src="{{ post.author.profile_pic_url }}" alt="{{ post.author.username }}" />
                            <div class="user-info">
                                <h5>Author: {{ post.author }}</h5>
                                <small>Created at: {{ post.created_at }}</small>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                </div>
            {% endfor %}
        {% endblock %}
    </div>
{% endblock %}
